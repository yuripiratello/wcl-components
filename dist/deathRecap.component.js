let getComponent;(()=>{"use strict";var e={d:(s,a)=>{for(var l in a)e.o(a,l)&&!e.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)},s={};function a(e){return` <AbilityIcon id="${e.id}" icon="${e.icon}" type="${e.type}">${e.name}</AbilityIcon>`}e.d(s,{default:()=>i});const l=[{class:"Death Knight",defensives:[{spellId:48743,name:"Death Pact",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:49039,name:"Lichborne",baseCd:12e4,cdReduction:!0,charges:!1,spec:null},{spellId:48792,name:"Icebound Fortitude",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:51052,name:"Anti-Magic Zone",baseCd:12e4,cdReduction:!0,charges:!1,spec:null},{spellId:48707,name:"Anti-Magic Shell",baseCd:6e4,cdReduction:!0,charges:!1,spec:null},{spellId:49998,name:"Death Strike",baseCd:0,cdReduction:!1,charges:!1,spec:null}]},{class:"Demon Hunter",defensives:[{spellId:196718,name:"Darkness",baseCd:3e5,cdReduction:!0,charges:!1,spec:null},{spellId:196555,name:"Netherwalk",baseCd:18e4,cdReduction:!1,charges:!1,spec:"Havoc"},{spellId:198589,name:"Blur",baseCd:6e4,cdReduction:!1,charges:!1,spec:"Havoc"}]},{class:"Druid",defensives:[{spellId:319454,name:"Heart of the Wild",baseCd:3e5,cdReduction:!1,charges:!1,spec:null},{spellId:108238,name:"Renewal",baseCd:9e4,cdReduction:!1,charges:!1,spec:null},{spellId:124974,name:"Nature's Vigil",baseCd:9e4,cdReduction:!1,charges:!1,spec:null},{spellId:22812,name:"Barkskin",baseCd:6e4,cdReduction:!1,charges:!1,spec:null},{spellId:22842,name:"Frenzied Regeneration",baseCd:36e3,cdReduction:!0,charges:!1,spec:null},{spellId:5487,name:"Bear Form",baseCd:0,cdReduction:!1,charges:!1,spec:null},{spellId:61336,name:"Feral Instincts",baseCd:18e4,cdReduction:!1,charges:!1,spec:"Feral"}]},{class:"Evoker",defensives:[{spellId:374227,name:"Zephyr",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:363916,name:"Obsidian Scales",baseCd:9e4,cdReduction:!0,charges:!0,spec:null},{spellId:374348,name:"Renewing Blaze",baseCd:9e4,cdReduction:!0,charges:!1,spec:null},{spellId:360827,name:"Blistering Scales",baseCd:3e4,cdReduction:!1,charges:!1,spec:"Augmentation"}]},{class:"Hunter",defensives:[{spellId:186265,name:"Aspect of the Turtle",baseCd:18e4,cdReduction:!0,charges:!1,spec:null},{spellId:109304,name:"Exhilaration",baseCd:12e4,cdReduction:!0,charges:!1,spec:null},{spellId:264735,name:"Survival of the Fittest",baseCd:12e4,cdReduction:!0,charges:!0,spec:null},{spellId:388035,name:"Fortitude of the Bear",baseCd:12e4,cdReduction:!1,charges:!1,spec:null}]},{class:"Mage",defensives:[{spellId:414658,name:"Ice Cold",baseCd:24e4,cdReduction:!0,charges:!1,spec:null},{spellId:45438,name:"Ice Block",baseCd:24e4,cdReduction:!0,charges:!1,spec:null},{spellId:55342,name:"Mirror Image",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:110960,name:"Greater Invisibility",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:414660,name:"Mass Barrier",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:342245,name:"Alter Time",baseCd:6e4,cdReduction:!0,charges:!1,spec:null},{spellId:342247,name:"Alter Time",baseCd:6e4,cdReduction:!0,charges:!1,spec:null},{spellId:235450,name:"Prismatic Barrier",baseCd:25e3,cdReduction:!1,charges:!1,spec:"Arcane"},{spellId:235313,name:"Blazing Barrier",baseCd:25e3,cdReduction:!1,charges:!1,spec:"Fire"},{spellId:235219,name:"Cold Snap",baseCd:3e5,cdReduction:!1,charges:!1,spec:"Frost"},{spellId:11426,name:"Frost Barrier",baseCd:25e3,cdReduction:!1,charges:!1,spec:"Frost"}]},{class:"Monk",defensives:[{spellId:115203,name:"Fortifying Brew",baseCd:12e4,cdReduction:!0,charges:!1,spec:null},{spellId:122783,name:"Diffuse Magic",baseCd:9e4,cdReduction:!1,charges:!1,spec:null},{spellId:122470,name:"Touch of Karma",baseCd:9e4,cdReduction:!1,charges:!1,spec:"Windwalker"}]},{class:"Paladin",defensives:[{spellId:471195,name:"Lay on Hands",baseCd:6e5,cdReduction:!0,charges:!1,spec:null},{spellId:1022,name:"Blessing of Protection",baseCd:3e5,cdReduction:!0,charges:!1,spec:null},{spellId:642,name:"Divine Shield",baseCd:3e5,cdReduction:!0,charges:!1,spec:null},{spellId:6940,name:"Blessing of Sacrifice",baseCd:12e4,cdReduction:!0,charges:!1,spec:null},{spellId:498,name:"Divine Protection",baseCd:9e4,cdReduction:!0,charges:!1,spec:"Holy"},{spellId:403876,name:"Divine Protection",baseCd:9e4,cdReduction:!0,charges:!1,spec:"Retribution"},{spellId:184662,name:"Shield of Vengeance",baseCd:9e4,cdReduction:!1,charges:!1,spec:"Retribution"}]},{class:"Priest",defensives:[{spellId:108968,name:"Void Shift",baseCd:3e5,cdReduction:!1,charges:!1,spec:null},{spellId:15286,name:"Vampiric Embrace",baseCd:12e4,cdReduction:!0,charges:!1,spec:null},{spellId:19236,name:"Desperate Prayer",baseCd:9e4,cdReduction:!0,charges:!1,spec:null},{spellId:586,name:"Fade",baseCd:3e4,cdReduction:!0,charges:!1,spec:null},{spellId:47585,name:"Dispersion",baseCd:12e4,cdReduction:!1,charges:!1,spec:"Shadow"}]},{class:"Rogue",defensives:[{spellId:5277,name:"Evasion",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:31224,name:"Cloak of Shadows",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:185311,name:"Crimson Vial",baseCd:3e4,cdReduction:!1,charges:!1,spec:null},{spellId:1966,name:"Feint",baseCd:15e3,cdReduction:!0,charges:!0,spec:null}]},{class:"Shaman",defensives:[{spellId:198103,name:"Earth Elemental",baseCd:3e5,cdReduction:!1,charges:!1,spec:null},{spellId:108271,name:"Astral Shift",baseCd:12e4,cdReduction:!0,charges:!1,spec:null},{spellId:108281,name:"Ancestral Guidance",baseCd:12e4,cdReduction:!1,charges:!1,spec:null},{spellId:108270,name:"Stone Bulwark Totem",baseCd:12e4,cdReduction:!0,charges:!1,spec:null}]},{class:"Warlock",defensives:[{spellId:104773,name:"Unending Resolve",baseCd:18e4,cdReduction:!0,charges:!1,spec:null},{spellId:108416,name:"Dark Pact",baseCd:6e4,cdReduction:!0,charges:!1,spec:null},{spellId:452930,name:"Demonic Healthstone",baseCd:6e4,cdReduction:!1,charges:!1,spec:null},{spellId:6789,name:"Mortal Coil",baseCd:45e3,cdReduction:!1,charges:!1,spec:null},{spellId:234153,name:"Drain Life",baseCd:0,cdReduction:!1,charges:!1,spec:null}]},{class:"Warrior",defensives:[{spellId:383762,name:"Bitter Immunity",baseCd:18e4,cdReduction:!1,charges:!1,spec:null},{spellId:97462,name:"Rallying Cry",baseCd:18e4,cdReduction:!1,charges:!1,spec:null},{spellId:202168,name:"Impending Victory",baseCd:25e3,cdReduction:!1,charges:!1,spec:null},{spellId:23920,name:"Spell Reflection",baseCd:25e3,cdReduction:!0,charges:!1,spec:null},{spellId:386208,name:"Defensive Stance",baseCd:3e3,cdReduction:!1,charges:!1,spec:null},{spellId:118038,name:"Die by the Sword",baseCd:12e4,cdReduction:!0,charges:!1,spec:"Arms"},{spellId:190456,name:"Ignore Pain",baseCd:11e3,cdReduction:!1,charges:!1,spec:"Arms"},{spellId:184364,name:"Enraged Regeneration",baseCd:12e4,cdReduction:!0,charges:!1,spec:"Fury"}]},{class:"Everyone",defensives:[{spellId:6262,name:"Healthstone",baseCd:0,cdReduction:!1,charges:!1,spec:null},{spellId:431416,name:"Algari Healing Potion",baseCd:3e5,cdReduction:!1,charges:!1,spec:null}]}],n=(e,s,l,n)=>{if(null===e)return"Unknown (Fall)";const c=l?`[${d(s,l.timestamp)}]`:"";return n&&l?n-1e4>l.timestamp?`${c} ${a(e)}`:`<Wipe>${c}</Wipe> ${a(e)}`:`${c} ${a(e)}`},d=(e,s)=>{const a=s-e,l=a%1e3;return`${Math.floor(a/6e4)}:${((e,s)=>{let a=e.toString();for(;a.length<s;)a="0"+a;return a})(Number((a%6e4/1e3).toFixed(0)),2)}:${l}`},c=(e,s,a)=>{var n;if(!(null===(n=s.target)||void 0===n?void 0:n.subType))return[];const d=((e,s)=>{const a=l.find((s=>s.class===e));return a?(s?a.defensives.filter((e=>e.spec===s||null===e.spec)):a.defensives.filter((e=>null===e.spec))).concat(l.find((e=>"Everyone"===e.class)).defensives):[]})(s.target.subType,a),c=e.eventsByCategoryAndDisposition("casts","friendly").filter((e=>{var a;return null!=e.source&&(null===(a=s.target)||void 0===a?void 0:a.id)===e.source.id})).filter((e=>!!e.ability&&d.some((s=>{var a;return s.spellId===(null===(a=e.ability)||void 0===a?void 0:a.id)}))));return d.map((e=>{const a=c.filter((s=>{var a;return(null===(a=s.ability)||void 0===a?void 0:a.id)===e.spellId})).sort(((e,s)=>s.timestamp-e.timestamp))[0],l=a?a.timestamp:null,n=!l||s.timestamp-l>e.baseCd;return{ability:(null==a?void 0:a.ability)||(d=e.spellId,reportGroup.abilities.find((e=>e.id===d)))||{id:e.spellId,name:e.name?`${e.name} [Never used]`:"Unknown (Fall?)",type:0,icon:"",isExcludedFromDamageAndHealing:!1,isOffGcd:!1,isMelee:!1,isStaggerAbsorb:!1,isStaggerDamage:!1,isStaggerDmaage:!1},lastUsed:l,available:n,cooldown:e.baseCd};var d}))},i=getComponent=()=>({component:"Table",props:{columns:{title:{header:"Death Recap",textAlign:"center",colSpan:5,columns:{fightId:{header:"Fight ID"},player:{header:"Player"},ability:{header:"Ability"},timestamp:{header:"Death Time",textAlign:"right"},defensiveCasts:{header:"Defensive Casts"},availableDefensives:{header:"Available Defensives"},unavailableDefensives:{header:"Unavailable Defensives"}}}},data:reportGroup.fights.flatMap((e=>{const s=e.friendlyPlayerDeathEvents.length>3?3:e.friendlyPlayerDeathEvents.length,a=e.friendlyPlayerDeathEvents.slice(0,s);return{fight:e,deaths:a}})).reduce(((e,s)=>{const l=s.deaths.reduce(((e,l)=>{if(!l.target)return e;const i=s.fight.specForPlayer(l.target),t=((e,s,l)=>{const d=c(e,s,l);return{usedDefensives:d.filter((e=>null!==e.lastUsed)).map((a=>n(a.ability,e.startTime,{timestamp:a.lastUsed},s.timestamp))),availableDefensives:d.filter((e=>e.available)).map((e=>`<Kill>${a(e.ability)}</Kill>`)),unavailableDefensives:d.filter((e=>!e.available&&e.lastUsed)).map((e=>{const l=Math.round((e.cooldown-(s.timestamp-e.lastUsed))/1e3);return`<Wipe>${a(e.ability)} (${l}s)</Wipe>`}))}})(s.fight,l,i),r=s.fight.startTime,o=d(r,l.timestamp);var p,u;return e.push({fightId:s.fight.id,player:l.target?(p=l.target,u=i,`<ActorIcon type="${p.subType}-${u}">${p.name}</ActorIcon>`):"Unknown",ability:n(l.killingAbility,r),timestamp:o,defensiveCasts:t.usedDefensives.length>0?t.usedDefensives.join("<br>"):"<Wipe>No defensives the entire fight!!</Wipe>",availableDefensives:t.availableDefensives.length>0?t.availableDefensives.join("<br>"):"<Wipe>No defensives available</Wipe>",unavailableDefensives:t.unavailableDefensives.length>0?t.unavailableDefensives.join("<br>"):"<Wipe>No defensives on cooldown</Wipe>"}),e}),[]);return e.push({fightId:s.fight.id,deaths:l}),e}),[]).flatMap((e=>[{fightId:e.fightId,player:e.fightId,ability:e.fightId,timestamp:e.fightId,defensiveCasts:e.fightId,availableDefensives:e.fightId,unavailableDefensives:e.fightId},...e.deaths]))}});globalThis.getComponent=s.default})();
 /*Source Code LZString compressed, Base64 encoded 
N4KABBYEQCYKYEMAuALASnAxggDlAXNPMulrmJgPYCuANjGAHaVJgBGcYAZjYzFCAC+QA===
*/